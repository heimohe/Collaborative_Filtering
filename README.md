# Collaborative_Filtering
协同过滤

python版本写的协同过滤，体验一番

一、协同过滤的简介
  关于协同过滤的一个最经典的例子就是看电影，有时候不知道哪一部电影是我们喜欢的或者评分比较高的，那么通常的做法就是问问周围的朋友，看看最近有什么好的电影推荐。在问的时候，都习惯于问跟自己口味差不多的朋友，这就是协同过滤的核心思想。
  协同过滤是在海量数据中挖掘出小部分与你品味类似的用户，在协同过滤中，这些用户成为邻居，然后根据他们喜欢的东西组织成一个排序的目录推荐给你。所以就有如下两个核心问题。
  （1）、如何确定一个用户是否与你有类似的品味？
  （2）、如何将邻居们的喜好组织成一个排序目录？
  协同过滤算法的出现标志着推荐系统的产生，协同过滤算法包括基于用户和基于物品的协同过滤算法。
  
  二、协同过滤的核心
    要实现协同过滤，需要进行如下几个步骤：
    （1）、收集用户偏好
    （2）、找到相似的用户或者物品
    （3）、计算并推荐
    
    1、收集用户偏好
    从用户的行为和偏好中发现规律，并基于此进行推荐，所以如何收集用户的偏好信息成为系统推荐效果最基础的决定因素。用户有很多种方式向系统提供自己的偏好信息，比如：评分，投票，转发，保存书签，购买，点击流，页面停留时间等等。
    以上的用户行为都是通用的，在实际推荐引擎设计中可以自己多添加一些特定的用户行为，并用它们表示用户对物品的喜好程度，通常情况下，在一个推荐系统中，用户行为都会多于一种，那么如何组织这些不同的用户行为呢？基本上有如下两种方式：
    （1） 将不同的行为分组
    一般可以分为查看和购买，然后基于不同的用户行为，计算不同用户或者物品的相似度。类似与当当网或者亚马逊给出的“购买了该书的人还购买了”，“查看了该书的人还查看了”等等。
    （2）、不同行为产生的用户喜好对它们进行加权
    对不同行为产生的用户喜好进行加权，然后求出用户对物品的总体喜好。
    好了，当我们收集好用户的行为数据后，还要对数据进行预处理，最核心的工作就是降噪和归一化。
    
    降噪：因为用户数据在使用过程中可能存在大量噪音和误操作，所以需要对滤掉这些噪音。
    归一化：不同行为数据的取值相差可能很好，例如用户的查看数据肯定比购买数据大很多。通过归一化才能使得数据更加准确。
    通过上述步骤的处理，就得到了一张二维表，其中一维是用户列表，另一维是商品列表，值是用户对商品的喜好。还是以电影推荐为例，如下表：
            Titanic     Avatar
    User1     0.5         0.3
    User2     0.4         0.3
    User3     0.4         ?
    
      2、找到相似的用户或者物品
      对用户的行为分析得到用户的喜好后，可以根据用户的喜好计算相似用户和物品，然后可以基于相似用户或物品进行推荐，这就是协同过滤中的两个分支了，基于用户的和基于物品的协同过滤。
       关于相似度的计算有很多种方法，比如常用的余弦夹角，欧几里德距离度量，皮尔逊相关系数等等。而如果采用欧几里德度量，那么可以用如下公式来表示相似度

 

          
